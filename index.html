<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LinksJFG Futurista | JFG Metais</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        /* üé® V√°riaveis Futuristas */
        :root {
            --neon-orange: #F97316;
            --neon-blue: #0EA5E9;
            --bg-dark: #09090b;
            
            /* Gradiente de energia para bot√µes */
            --energy-gradient: linear-gradient(135deg, var(--neon-orange), #ef4444);
            
            --card-glass-bg: rgba(20, 20, 30, 0.85); /* Vidro escuro mais opaco */
            --card-glow: 0 0 25px rgba(249, 115, 22, 0.4), inset 0 0 2px rgba(255,255,255,0.1); /* Brilho Neon */
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0; padding: 0;
            /* Utilize suas imagens 'escuroo.jpg' e 'clara.jpg' */
            background: url('escuroo.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #E5E7EB;
            transition: all 0.5s ease;
            overflow-x: hidden;
        }

        /* Modo claro muda apenas o fundo do site, o card permanece futurista (escuro) */
        body.light-mode {
            background: url('clara.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #111827;
        }

        /* üåô Bot√£o de Tema (Estilo Tech) */
        .theme-toggle {
            position: fixed; top: 20px; left: 20px;
            width: 50px; height: 50px; border-radius: 12px;
            background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px); color: var(--neon-orange);
            cursor: pointer; z-index: 999; font-size: 1.3rem;
            box-shadow: 0 0 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        .theme-toggle:hover { box-shadow: 0 0 20px var(--neon-orange); color: #fff; }

        .wrapper {
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; padding: 40px 20px;
        }
        
        /* Container Principal (Glassmorphism) */
        .container {
            max-width: 480px; width: 100%;
            background: rgba(15, 23, 42, 0.7); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px; padding: 40px 30px;
            text-align: center; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        
        .avatar {
            width: 120px; height: 120px; border-radius: 50%; object-fit: cover;
            margin-bottom: 20px; 
            border: 3px solid var(--neon-orange);
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.5);
            /* Otimiza√ß√£o de Imagem */
            content-visibility: auto; 
        }
        
        h1 { font-size: 2rem; margin-bottom: 8px; font-weight: 800; letter-spacing: -1px; color: #fff; text-transform: uppercase; }
        p { font-size: 1rem; margin-bottom: 35px; opacity: 0.8; line-height: 1.6; }

        /* Links Estilo "Data Pad" */
        .link {
            display: flex; align-items: center; justify-content: flex-start;
            background: rgba(255, 255, 255, 0.03); 
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 16px 20px; margin: 12px 0; text-decoration: none;
            font-weight: 600; font-size: 1.05rem; color: #fff;
            transition: all 0.3s ease;
            position: relative; overflow: hidden;
        }
        
        /* Efeito de hover futurista nos links */
        .link::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(249, 115, 22, 0.2), transparent);
            transition: 0.5s;
        }
        .link:hover::before { left: 100%; }
        .link:hover { 
            transform: translateX(5px); 
            border-color: var(--neon-orange);
            box-shadow: 0 0 15px rgba(249, 115, 22, 0.2);
        }

        .link i {
            width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
            margin-right: 15px; font-size: 1.4rem; color: var(--neon-orange);
            transition: all 0.3s ease;
            text-shadow: 0 0 10px rgba(249, 115, 22, 0.5);
        }

        /* ------------------------------------------------ */
        /* --- üöÄ POPUP E CARD FUTURISTA üöÄ --- */
        /* ------------------------------------------------ */

        .popup-overlay {
            display: none; position: fixed; inset: 0;
            background: rgba(0, 0, 0, 0.85); /* Fundo ainda mais escuro */
            backdrop-filter: blur(10px); z-index: 1000;
        }
        
        .popup {
            position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%; max-width: 380px; height: auto; 
            background: transparent; 
            display: flex; flex-direction: column;
            opacity: 0; pointer-events: none;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 1001;
        }
        .popup.show { opacity: 1; transform: translate(-50%, -50%) scale(1); pointer-events: auto; }

        .popup-header { display: flex; justify-content: flex-end; margin-bottom: 10px; }
        .close-btn { 
            background: rgba(255,255,255,0.1); border: none; cursor: pointer; 
            width: 40px; height: 40px; border-radius: 50%;
            color: #fff; transition: 0.3s; font-size: 1.2rem;
        }
        .close-btn:hover { background: var(--neon-orange); box-shadow: 0 0 15px var(--neon-orange); transform: rotate(90deg); }

        .carousel-container { 
            flex-grow: 1; overflow: hidden; /* Mudan√ßa: Oculta overflow para swipe */
            position: relative; perspective: 1000px;
            /* Adicionado padding para que as setas n√£o se sobreponham ao card */
            padding: 0 30px; 
        }
        .carousel-track { 
            display: flex; height: 100%;
            /* Otimiza√ß√£o de Performance */
            will-change: transform; 
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1); 
        }
        .card-item { min-width: 100%; padding: 10px; box-sizing: border-box; display: flex; justify-content: center; }

        /* ‚ú® O NOVO CARD FUTURISTA ‚ú® */
        .card {
            background: var(--card-glass-bg) !important;
            backdrop-filter: blur(25px) saturate(150%); -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: var(--card-glow);
            color: #FFFFFF !important;
            border-radius: 30px;
            padding: 40px 30px;
            width: 100%; max-width: 340px;
            display: flex; flex-direction: column; align-items: center; text-align: center;
            position: relative; overflow: hidden;
            /* Garante que o conte√∫do do card esteja acess√≠vel */
            touch-action: pan-y; 
        }

        /* Efeito de luz no topo do card */
        .card::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 50%;
            background: radial-gradient(circle, rgba(249, 115, 22, 0.2) 0%, transparent 70%);
            opacity: 0.5; pointer-events: none;
        }

        /* √çcone flutuante e brilhante */
        .card-icon-wrapper {
            width: 90px; height: 90px;
            background: transparent;
            border: 2px solid rgba(249, 115, 22, 0.3);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 25px;
            box-shadow: inset 0 0 15px rgba(249, 115, 22, 0.2), 0 0 20px rgba(249, 115, 22, 0.1);
            animation: pulseIcon 3s infinite ease-in-out;
        }
        .card-icon { 
            font-size: 2.8rem; color: var(--neon-orange); 
            text-shadow: 0 0 15px rgba(249, 115, 22, 0.8);
        }

        .card-title { font-size: 1.6rem; font-weight: 800; margin: 0 0 15px 0; color: #fff; letter-spacing: 0.5px; text-transform: uppercase; }

        .card-description {
            font-size: 1rem; line-height: 1.7; color: rgba(255, 255, 255, 0.8) !important;
            margin-bottom: 30px; font-weight: 400; letter-spacing: 0.3px;
        }

        .card-footer { width: 100%; margin-top: auto; }
        
        /* Prompt futurista transparente */
        .whatsapp-prompt {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(249, 115, 22, 0.3);
            color: var(--neon-orange) !important;
            padding: 12px; border-radius: 16px;
            font-size: 0.95rem; font-weight: 600;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: inset 0 0 10px rgba(249, 115, 22, 0.1);
        }
        .whatsapp-prompt i { text-shadow: 0 0 5px currentColor; }

        /* --- Bot√µes de Navega√ß√£o (Setas de Energia) --- */
        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 50px; height: 50px; border-radius: 50%;
            background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(249, 115, 22, 0.3);
            color: var(--neon-orange); cursor: pointer; z-index: 10; font-size: 1.2rem;
            backdrop-filter: blur(5px); transition: all 0.3s ease;
            /* Mudan√ßa de posi√ß√£o para acomodar o padding do carrossel */
            margin: 0 -5px; 
        }
        .nav-btn:hover { 
            background: var(--neon-orange); color: #fff; 
            box-shadow: 0 0 25px var(--neon-orange); border-color: transparent;
        }
        /* Posi√ß√µes relativas ao padding do carousel-container */
        #prevBtn { left: 0px; } 
        #nextBtn { right: 0px; } 

        /* Oculta bot√µes em telas muito pequenas (onde o swipe √© mais intuitivo) */
        @media (max-width: 450px) {
            .nav-btn { display: none; }
            .carousel-container { padding: 0 10px; } /* Ajusta padding se bot√µes sumirem */
        }

        /* --- Bot√£o Principal (Propulsor de Plasma) --- */
        .carousel-nav { margin-top: 35px; text-align: center; }
        #visitLink {
            background: var(--energy-gradient);
            color: white;
            padding: 16px 50px; border-radius: 50px;
            font-weight: 700; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1px;
            text-decoration: none; display: inline-block;
            box-shadow: 0 0 30px rgba(249, 115, 22, 0.6);
            transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        #visitLink::after {
            content: ''; position: absolute; top: -50%; left: -60%; width: 20%; height: 200%;
            background: rgba(255,255,255,0.4); transform: rotate(25deg); transition: 0.5s;
        }
        #visitLink:hover::after { left: 130%; }
        #visitLink:hover { transform: scale(1.05); box-shadow: 0 0 50px rgba(249, 115, 22, 0.8); filter: brightness(1.2); }

        footer.footer { text-align: center; font-size: 0.85rem; color: rgba(255, 255, 255, 0.5); margin-top: 50px; }
        @keyframes pulseIcon { 0%, 100% { box-shadow: inset 0 0 15px rgba(249, 115, 22, 0.2), 0 0 20px rgba(249, 115, 22, 0.1); } 50% { box-shadow: inset 0 0 25px rgba(249, 115, 22, 0.4), 0 0 35px rgba(249, 115, 22, 0.3); } }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle" aria-label="Alternar Tema Claro/Escuro">üåô</button>

    <div class="wrapper">
        <div class="container">
            <img class="avatar" src="avatar.jpg" alt="Avatar JFG Metais" loading="lazy" />
            <h1>JFG Metais</h1>
            <p>Solu√ß√µes avan√ßadas em fixa√ß√£o para o futuro da constru√ß√£o.</p>

            <a class="link" data-title="Site Oficial" data-text="Explore nosso portf√≥lio digital completo e solicite or√ßamentos via nossa plataforma." data-url="https://jfgmetais.com.br/" data-icon="fas fa-globe" data-contact-type="web" data-index="0" role="button" aria-expanded="false">
                <i class="fas fa-globe"></i> Site
            </a>
            <a class="link" data-title="Jess√© Ferreira" data-text="Administrativo. Conecte-se para alinhar processos internos e documenta√ß√£o estrat√©gica." data-url="http://wa.me/5511942147315" data-icon="fab fa-whatsapp" data-contact-type="whatsapp" data-index="1" role="button" aria-expanded="false">
                <i class="fab fa-whatsapp"></i> Administrativo
            </a>
            <a class="link" data-title="Duana Kelly" data-text="Central de Vendas. Cota√ß√µes em tempo real e rastreamento de pedidos." data-url="http://wa.me/5511974177315" data-icon="fab fa-whatsapp" data-contact-type="whatsapp" data-index="2" role="button" aria-expanded="false">
                <i class="fab fa-whatsapp"></i> Vendas
            </a>
            <a class="link" data-title="Andr√© Santos" data-text="Negocia√ß√µes e Or√ßamentos. Canal direto para condi√ß√µes comerciais exclusivas." data-url="https://wa.me/5511932875887" data-icon="fab fa-whatsapp" data-contact-type="whatsapp" data-index="3" role="button" aria-expanded="false">
                <i class="fab fa-whatsapp"></i> Or√ßamentos
            </a>
            <a class="link" data-title="R√≥bson Eug√™nio" data-text="Opera√ß√µes Log√≠sticas. Informa√ß√µes precisas sobre rotas, estoque e confer√™ncia." data-url="http://wa.me/5511998629882" data-icon="fas fa-truck-fast" data-contact-type="whatsapp" data-index="4" role="button" aria-expanded="false">
                <i class="fas fa-truck-fast"></i> Log√≠stico
            </a>
        </div>
    </div>

    <div class="popup-overlay" id="overlay"></div>
    <div class="popup" id="popup" aria-modal="true" role="dialog" aria-labelledby="popupTitle">
        <div class="popup-header">
            <button class="close-btn" onclick="closePopup()" aria-label="Fechar Janela de Detalhes">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="carousel-container" id="carouselContainer" aria-live="polite">
            <div class="carousel-track" id="carouselTrack"></div>
            <button class="nav-btn" id="prevBtn" aria-label="Card Anterior" title="Anterior"><i class="fas fa-chevron-left"></i></button>
            <button class="nav-btn" id="nextBtn" aria-label="Pr√≥ximo Card" title="Pr√≥ximo"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="carousel-nav">
            <a id="visitLink" href="#" target="_blank">Inicializar</a>
        </div>
    </div>

    <footer class="footer">¬© 2025 Andr√© R. dos Santos | Interface v2.5 (Otimizada)</footer>

    <script>
        const links = document.querySelectorAll('.link');
        const popup = document.getElementById('popup');
        const overlay = document.getElementById('overlay');
        const carouselTrack = document.getElementById('carouselTrack');
        const carouselContainer = document.getElementById('carouselContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const visitBtn = document.getElementById('visitLink');
        const themeToggle = document.getElementById('themeToggle');

        let currentSlide = 0;
        const linkData = [];
        let totalSlides = 0;

        // Vari√°veis para funcionalidade de Swipe/Toque
        let touchStartX = 0;
        let touchEndX = 0;
        const minSwipeDistance = 50; // Dist√¢ncia m√≠nima para registrar um swipe

        // 1. Coleta os dados de linkData
        links.forEach((link, index) => {
            linkData.push({
                title: link.dataset.title,
                text: link.dataset.text,
                url: link.dataset.url,
                icon: link.dataset.icon || link.querySelector('i').className,
                type: link.dataset.contactType,
                index: index
            });
            // Adiciona ID para acessibilidade se necess√°rio, mas n√£o √© estritamente obrigat√≥rio aqui
            link.id = `link-${index}`;
        });
        totalSlides = linkData.length;

        // 2. Cria a estrutura HTML dos Cards
        function createCardHTML(data) {
            let promptHtml = '', visitText = 'Acessar';
            let titleId = `card-title-${data.index}`;

            if (data.type === 'whatsapp') { 
                promptHtml = `<div class="whatsapp-prompt"><i class="fab fa-whatsapp"></i> Iniciar Transmiss√£o</div>`; 
                visitText = 'Conectar via WhatsApp'; 
            } else if (data.type === 'web') { 
                promptHtml = `<div class="whatsapp-prompt" style="color:var(--neon-blue) !important; border-color:var(--neon-blue);"><i class="fas fa-external-link-alt" style="text-shadow: 0 0 5px var(--neon-blue);"></i> Navegar no Portal</div>`; 
                visitText = 'Acessar Portal'; 
            }

            // Melhoria A11Y: Adicionado ID no t√≠tulo do card
            return `
                <div class="card-item" role="group" aria-roledescription="slide" aria-label="${data.index + 1} de ${totalSlides}">
                    <div class="card">
                        <div class="card-icon-wrapper"><i class="${data.icon} card-icon"></i></div>
                        <h3 class="card-title" id="${titleId}">${data.title}</h3>
                        <p class="card-description">${data.text}</p>
                        <div class="card-footer">${promptHtml}</div>
                    </div>
                </div>`;
        }
        
        // 3. Renderiza o Carrossel
        function renderCarousel() { carouselTrack.innerHTML = linkData.map(createCardHTML).join(''); }

        // 4. Move o Carrossel para o Slide
        function moveToSlide(index) {
            // Garante que o √≠ndice esteja dentro dos limites
            index = Math.max(0, Math.min(totalSlides - 1, index));
            currentSlide = index;
            // Usa o transform CSS
            carouselTrack.style.transform = `translateX(${-currentSlide * 100}%)`;
            updateNavButtons();
            updateVisitLink();
            
            // Acessibilidade: Move o foco para o novo card (opcional, mas bom para leitores de tela)
            const currentCard = carouselTrack.querySelector(`.card-item:nth-child(${currentSlide + 1}) .card`);
            if (currentCard) {
                currentCard.focus();
            }
        }

        // 5. Atualiza os Bot√µes de Navega√ß√£o (Setas)
        function updateNavButtons() {
            // L√≥gica mais clara para desativar bot√µes
            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;
            
            // Oculta/mostra os bot√µes suavemente
            prevBtn.style.opacity = currentSlide === 0 ? '0' : '1';
            nextBtn.style.opacity = currentSlide === totalSlides - 1 ? '0' : '1';
            prevBtn.style.pointerEvents = currentSlide === 0 ? 'none' : 'auto';
            nextBtn.style.pointerEvents = currentSlide === totalSlides - 1 ? 'none' : 'auto';
        }

        // 6. Atualiza o Link Principal de A√ß√£o
        function updateVisitLink() {
            const currentData = linkData[currentSlide];
            if (currentData) {
                visitBtn.href = currentData.url;
                visitBtn.style.display = 'inline-block';
                
                // Atualiza o texto do bot√£o principal
                if (currentData.type === 'whatsapp') {
                    visitBtn.textContent = 'Conectar via WhatsApp';
                } else if (currentData.type === 'web') {
                    visitBtn.textContent = 'Acessar Portal';
                } else {
                    visitBtn.textContent = 'Inicializar Link';
                }
            } else {
                visitBtn.style.display = 'none';
            }
        }

        // 7. Event Handlers para Abertura do Pop-up
        links.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                // Acessibilidade: Marca o link como expandido
                link.setAttribute('aria-expanded', 'true'); 
                
                if (carouselTrack.innerHTML === '') renderCarousel();
                
                // Abre no slide correspondente ao link clicado
                moveToSlide(parseInt(link.dataset.index));
                
                popup.classList.add('show');
                overlay.style.display = 'block';
            });
        });

        // 8. Event Handlers para Navega√ß√£o com Setas
        prevBtn.addEventListener('click', () => { if (currentSlide > 0) moveToSlide(currentSlide - 1); });
        nextBtn.addEventListener('click', () => { if (currentSlide < totalSlides - 1) moveToSlide(currentSlide + 1); });

        // 9. Funcionalidade de Fechar Pop-up
        function closePopup() { 
            popup.classList.remove('show'); 
            overlay.style.display = 'none'; // Mudar para display: none imediatamente para evitar cliques em falso
            
            // Acessibilidade: Redefine o estado expandido dos links
            links.forEach(link => link.setAttribute('aria-expanded', 'false'));
            
            // Se o foco estava no popup, tenta retornar ao √∫ltimo link clicado (melhoria UX)
            // const lastClickedLink = document.querySelector(`[data-index="${currentSlide}"][aria-expanded="false"]`);
            // if (lastClickedLink) lastClickedLink.focus();
        }

        overlay.addEventListener('click', closePopup);
        
        // Permite fechar com a tecla ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && popup.classList.contains('show')) {
                closePopup();
            }
        });

        // 10. Funcionalidade de Tema (Dark/Light)
        function toggleTheme() { 
            const isLight = !document.body.classList.contains('light-mode');
            document.body.classList.toggle('light-mode', isLight);
            themeToggle.innerHTML = isLight ? '<i class="fas fa-sun"></i>' : 'üåô';
            localStorage.setItem('theme', isLight ? 'light' : 'dark'); 
            themeToggle.setAttribute('aria-label', isLight ? 'Mudar para Tema Escuro' : 'Mudar para Tema Claro');
        }

        // 11. Implementa√ß√£o de Swipe/Toque (Melhoria UX Mobile)
        function handleTouchStart(e) {
            // Registra a posi√ß√£o X inicial
            touchStartX = e.touches[0].clientX;
            // Remove a transi√ß√£o suave durante o swipe para evitar lag
            carouselTrack.style.transition = 'none';
        }

        function handleTouchMove(e) {
            touchEndX = e.touches[0].clientX;
            const diff = touchEndX - touchStartX;

            // Move o track em tempo real durante o deslize
            // -currentSlide * 100 √© a posi√ß√£o base
            const newPos = (-currentSlide * carouselContainer.offsetWidth) + diff;
            carouselTrack.style.transform = `translateX(${newPos}px)`;
        }

        function handleTouchEnd() {
            // Rep√µe a transi√ß√£o suave
            carouselTrack.style.transition = 'transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)';
            const diff = touchEndX - touchStartX;

            // Decide se foi um swipe
            if (Math.abs(diff) > minSwipeDistance) {
                if (diff > 0) {
                    // Swipe para a direita (Ir para slide anterior)
                    moveToSlide(currentSlide - 1);
                } else {
                    // Swipe para a esquerda (Ir para pr√≥ximo slide)
                    moveToSlide(currentSlide + 1);
                }
            } else {
                // N√£o houve swipe suficiente, retorna ao slide atual
                moveToSlide(currentSlide); 
            }

            // Reseta vari√°veis
            touchStartX = 0;
            touchEndX = 0;
        }

        // Adiciona os event listeners de toque APENAS ao container do carrossel
        carouselContainer.addEventListener('touchstart', handleTouchStart);
        carouselContainer.addEventListener('touchmove', handleTouchMove);
        carouselContainer.addEventListener('touchend', handleTouchEnd);


        // 12. Inicializa√ß√£o
        window.onload = () => { 
            const saved = localStorage.getItem('theme'); 
            let isLight = saved === 'light'; 
            if (isLight) document.body.classList.add('light-mode'); 
            themeToggle.innerHTML = isLight ? '<i class="fas fa-sun"></i>' : 'üåô'; 
            themeToggle.setAttribute('aria-label', isLight ? 'Mudar para Tema Escuro' : 'Mudar para Tema Claro');
            renderCarousel(); 
        }
    </script>
</body>
</html>
